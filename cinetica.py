import seaborn as sns
import pandas as pd
import matplotlib.pyplot as plt
from scipy import stats

t_exp = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 15, 20, 25, 30, 35, 40, 45, 50, 60, 70, 80]
Xa_exp_0_100 = [0.00, 0.07, 0.20, 0.31, 0.41, 0.49, 0.56, 0.61, 0.66, 0.69, 0.72, 0.83, 0.89, 0.92, 0.95, 0.96, 0.97, 0.98, 0.98, 1.00, 1.00, 1.00]
Ca_exp = [25.0, 23.3, 20.1, 17.1, 14.7, 12.6, 11.0, 9.8, 8.6, 7.7, 6.9, 4.2, 2.8, 1.9, 1.3, 1.0, 0.7, 0.5, 0.4, 0.1, 0.0, 0.0]
Ca0Xa_0_100 = [0.00, 1.75, 5.00, 7.75, 10.25, 12.25, 14.00, 15.25, 16.50, 17.25, 18.00, 20.75, 22.25, 23.00, 23.75, 24.00, 24.25, 24.50, 24.50, 25.00, 25.00, 25.00]

t_exp_0_85 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 15]
Xa_exp_0_85 = [0.00, 0.07, 0.20, 0.31, 0.41, 0.49, 0.56, 0.61, 0.66, 0.69, 0.72, 0.83]
Ca0Xa_0_85 = [0.00, 1.75, 5.00, 7.75, 10.25, 12.25, 14.00, 15.25, 16.50, 17.25, 18.00, 20.75]
Ca_exp_0_85 = [25.0, 23.3, 20.1, 17.1, 14.7, 12.6, 11.0, 9.8, 8.6, 7.7, 6.9, 4.2]

t_exp_1_100 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 15, 20, 25, 30, 35, 40, 45, 50]
ln_Xa_1_100 = [0.0, 0.1, 0.2, 0.4, 0.5, 0.7, 0.8, 0.9, 1.1, 1.2, 1.3, 1.8, 2.2, 2.5, 3.0, 3.2, 3.5, 3.9, 3.9]

t_exp_1_85 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 15]
ln_Xa_1_85 = [0.0, 0.1, 0.2, 0.4, 0.5, 0.7, 0.8, 0.9, 1.1, 1.2, 1.3, 1.8]

t_exp_2_100 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 15, 20, 25, 30, 35, 40, 45, 50]
ln_Xa_2_100= [0.00, 0.00, 0.01, 0.02, 0.03, 0.04, 0.05, 0.06, 0.08, 0.09, 0.10, 0.20, 0.32, 0.46, 0.76, 0.96, 1.29, 1.96, 1.96]

t_exp_2_85 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 15]
ln_Xa_2_85 = [0.00, 0.00, 0.01, 0.02, 0.03, 0.04, 0.05, 0.06, 0.08, 0.09, 0.10, 0.20]

t_exp_1_cacao = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 15]
ln_ca_cao = [0.04, 0.04, 0.05, 0.06, 0.07, 0.08, 0.09, 0.10, 0.12, 0.13, 0.14, 0.24]

df_conversao = pd.DataFrame({'Tempo (min)': t_exp_1_cacao, 
                             '1/Ca (10^3 M^-1)': ln_ca_cao
                             })

slope, intercept, r_value, p_value, std_err = stats.linregress(df_conversao['Tempo (min)'],df_conversao['1/Ca (10^3 M^-1)'])
sns.set()
conv_t0 = sns.regplot(x='Tempo (min)', y='1/Ca (10^3 M^-1)', data=df_conversao, color='b', 
 line_kws={'label':"y = {0:.3f}x + {1:.3f} \n r-squared = {2:.3f}".format(slope,intercept,r_value**2)})
conv_t0.legend()
#plt.ylim(-1, 27)
plt.title('Reação de Ordem 2 - Concentração (até 85%)', fontweight='bold')
#g = sns.scatterplot(x='Tempo (min)', y='Conversão', palette='YlGnBu_d', data= df_conversao)
plt.show(conv_t0)
